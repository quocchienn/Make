# Shadowrocket Configuration - YouTube
# Cập nhật: 2024-12-18
# Bản Quyền Thuộc Về Quốc Chiến 
# Tham Gia Nhóm Telegram: https://t.me/shadowrocketunlockproapps

[General]
skip-proxy = 127.0.0.1, ::1
bypass-system = true
dns-server = 8.8.8.8, 8.8.4.4
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
private-ip-range = 127.0.0.1, 172.16.0.0/12, 192.168.0.0/16
force-http-engine-hosts = script.hub, *.script.hub

[Rule]
DOMAIN-SUFFIX,googleads.g.doubleclick.net,REJECT
DOMAIN-SUFFIX,adservice.google.com,REJECT
DOMAIN-SUFFIX,googlesyndication.com,REJECT
DOMAIN-SUFFIX,ads.youtube.com,REJECT
DOMAIN-SUFFIX,pagead2.googlesyndication.com,REJECT
DOMAIN-SUFFIX,ad.doubleclick.net,REJECT
DOMAIN-SUFFIX,ads.ytimg.com,REJECT
DOMAIN-SUFFIX,partner.googleadservices.com,REJECT
DOMAIN-SUFFIX,video-stats.l.google.com,REJECT
DOMAIN-SUFFIX,clients1.google.com,REJECT
DOMAIN-SUFFIX,redirector.googlevideo.com,REJECT
DOMAIN-KEYWORD,ad,REJECT
RULE-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/ruleset/reject.txt,REJECT-NO-DROP
RULE-SET,https://raw.githubusercontent.com/bigdargon/hostsVN/master/option/hostsVN-surge-rule.conf,REJECT-NO-DROP
RULE-SET,https://raw.githubusercontent.com/bigdargon/hostsVN/master/option/hostsVN-surge-rewrite.conf,REJECT-NO-DROP
RULE-SET,https://raw.githubusercontent.com/bigdargon/hostsVN/master/extensions/threat/surge-rule.conf,REJECT-NO-DROP
AND,((DOMAIN-SUFFIX,googlevideo.com), (PROTOCOL,UDP)),REJECT
AND,((DOMAIN,youtubei.googleapis.com), (PROTOCOL,UDP)),REJECT

# Cho phép video từ googlevideo.com
DOMAIN-SUFFIX,googlevideo.com,DIRECT
DOMAIN-SUFFIX,youtubei.googleapis.com,DIRECT

[URL Rewrite]
^https?:\/\/.*\.youtube\.com\/.*ads.*$ reject
^https?:\/\/.*\.youtube\.com\/.*pagead.*$ reject
^https?:\/\/.*\.youtubei\.googleapis\.com\/ads.*$ reject
^https?:\/\/.*\.googlevideo\.com\/.*&oad.*$ reject
^https?:\/\/.*\.googlevideo\.com\/.*&ctier.*$ reject
^https?:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad - reject-200

[MITM]
hostname = script.hub, *.script.hub, *.googlevideo.com, youtubei.googleapis.com, *.googlevideo.com, *.youtube.com, *.youtubei.googleapis.com, *.googleadservices.com, *.doubleclick.net, pagead2.googlesyndication.com

[Script]
FrontEnd = type=http-request, pattern=^https?:\/\/script\.hub\/($|edit\/|reload), script-path=https://raw.githubusercontent.com/quocchienn/YouTube_Spotify/refs/heads/module/Script.js, max-size=-1, timeout=300

Override = type=http-request, pattern=^https?:\/\/script\.hub\/file\/_start_\/.+type=(?:qx-rewrite|surge-module|loon-plugin|all-module), script-path=https://raw.githubusercontent.com/quocchienn/YouTube_Spotify/refs/heads/module/Rewrite-Parser.js, max-size=-1, timeout=300

RuleSet = type=http-request, pattern=^https?:\/\/script\.hub\/file\/_start_\/.+type=rule-set, script-path=https://raw.githubusercontent.com/quocchienn/YouTube_Spotify/refs/heads/module/rule-parser.js, max-size=-1, timeout=300

Script = type=http-request, pattern=^https?:\/\/script\.hub\/convert\/, script-path=https://raw.githubusercontent.com/quocchienn/YouTube_Spotify/refs/heads/module/script-converter.js, max-size=-1, timeout=300

# Youtube
YoutubeRequest = type=http-request, pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next|player|reel\/reel_watch_sequence|get_watch), script-path=https://raw.githubusercontent.com/quocchienn/YouTube_Spotify/refs/heads/module/youtube.request.preview.js, requires-body=true, binary-body-mode=true, max-size=-1

YoutubeResponse = type=http-response, pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch), script-path=https://raw.githubusercontent.com/quocchienn/YouTube_Spotify/refs/heads/module/youtube.response.preview.js, requires-body=true, binary-body-mode=true, max-size=-1, argument="{"lyricLang":"vi","captionLang":"vi","blockUpload":true,"blockImmersive":true,"debug":false}"

http-response ^https?:\/\/.*\.youtube\.com\/.*ads.* reject-dict
http-response ^https?:\/\/.*\.youtube\.com\/.*pagead.* reject-dict
http-response ^https?:\/\/.*\.youtubei\.googleapis\.com\/ads.* reject-dict
http-response ^https?:\/\/.*\.googlevideo\.com\/.*&oad.* reject-dict
http-response ^https?:\/\/.*\.googlevideo\.com\/.*&ctier.* reject-dict

[Header Rewrite]
User-Agent = Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1
# Shadowrocket Configuration - YouTube
# Cập nhật: 2024-12-18
# Bản Quyền Thuộc Về Quốc Chiến 
# Tham Gia Nhóm Telegram: https: